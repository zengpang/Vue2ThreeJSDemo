webpackJsonp([1],{E6lA:function(n,e){},MPWc:function(n,e){},NHnr:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=t("7+uW"),o=t("Ml+6"),a=t("BMSc"),r=t("T9FJ"),l=null,s=null,d=null,u=[],c=new o.g,h=null,w=null,m=null,p=null,f="static/shader/ChacterBodyShader",g=null,v=null,M={name:"threeJsTest",data:function(){return{}},methods:{load:function(n){var e=new XMLHttpRequest,t="file:"===document.location.protocol?0:200;return e.open("GET",n,!1),e.overrideMimeType("text/html;charset=utf-8"),e.send(null),e.status===t?e.responseText:null},initMat:function(){g=this.load(f+".frag"),v=this.load(f+".vert"),p=new o.M({uniforms:{_mainColor:{value:new o.W(1,1,1)},lightPosition:{value:new o.W(0,-10,0)},tilling:{value:new o.V(1,1)},_normalTex:{value:(new o.T).load("static/texture/Naria/Naria_N.tga")},_roughness:{value:1},_roughnessContrast:{value:1.06},_roughnessInit:{value:1.92},_roughnessMin:{value:0},_roughnessMax:{value:.7}},vertexShader:v,fragmentShader:g})},initScene:function(){(d=new o.K).background=new o.h(10526880)},initCamera:function(){(s=new o.E(45,window.innerWidth/window.innerHeight,.1,1e3)).position.set(-7.951022465039643,50.66599857875026,84.02389415272548),console.log(s),s.lookAt(new o.W(0,0,0))},initLight:function(){d.add(new o.a(4473924)),(h=new o.F(16777215)).position.set(0,-110,20),h.castShadow=!0,d.add(h);var n=new o.a(4210752,2);d.add(n)},initModelFbx:function(){console.log("模型加载"),(new r.a).load("static/model/Naria.FBX",function(n){var e=p;console.log(n),(l=n).position.set(0,-30,0),l.children[1].material=e;var t=o.L.basic.fragmentShader,i=o.L.basic.vertexShader;console.log(t),console.log(i),d.add(l),console.log(l),console.log(l.children[1])})},initRender:function(){var n;(w=new o.Z({antialias:!0})).setSize(window.innerWidth,window.innerHeight),w.outputEncoding=o._0,w.setClearColor("#1F2025",1),(n="#container",document.querySelector(n)).appendChild(w.domElement)},initControls:function(){(m=new a.a(s,w.domElement)).enableDamping=!0,m.enableZoom=!0,m.autoRotate=!0,m.autoRotateSpeed=.5,m.minDistance=1,m.maxDistance=500,m.enablePan=!0},initModelAnim:function(){console.log("动画加载"),(new r.a).load("static/model/Naria@idie.FBX",function(n){var e=new o.c(l);u.push(e),l.animations.push(n.animations[0]),e.clipAction(l.animations[0]).play()})},render:function(){w.render(d,s)},onWindowResize:function(){s.aspect=window.innerWidth/window.innerHeight,s.updateProjectionMatrix(),this.render(),w.setSize(window.innerWidth,window.innerHeight)},animate:function(){requestAnimationFrame(this.animate),u.length>0&&u[0].update(c.getDelta()),this.render()},draw:function(){this.initScene(),this.initMat(),this.initCamera(),this.initRender(),this.initLight(),this.initModelFbx(),this.initControls(),this.initModelAnim(),this.animate(),window.onresize=this.onWindowResize}},mounted:function(){this.draw()}},_={render:function(){var n=this.$createElement;return(this._self._c||n)("div",{attrs:{id:"container"}})},staticRenderFns:[]};var x={name:"App",components:{threeJsTest:t("VU/8")(M,_,!1,function(n){t("E6lA")},"data-v-ab2eb82a",null).exports}},S={render:function(){var n=this.$createElement,e=this._self._c||n;return e("div",{attrs:{id:"app"}},[e("threeJsTest")],1)},staticRenderFns:[]};var b=t("VU/8")(x,S,!1,function(n){t("MPWc")},null,null).exports;i.a.config.productionTip=!1,new i.a({el:"#app",components:{App:b},template:"<App/>"})}},["NHnr"]);
//# sourceMappingURL=app.5361ed3fef0a46613d03.js.map